<!doctype html>
<html lang="uz" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To‘lov qilish</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<!--/*@thymesVar id="error" type="templates"*/-->
<div th:if="${error}"
     class="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in">
    <div class="flex items-center gap-2">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
        </svg>
        <span th:text="${error}"></span>
    </div>
</div>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">

            <div class="card shadow-sm">
                <div class="card-header text-center">
                    <strong>To‘lov qilish</strong>
                </div>
                <div class="card-body">

                    <!-- Karta raqami -->
                    <div class="mb-3">
                        <label class="form-label">Karta raqami:</label>
                        <div class="input-group">
                            <input type="text" id="cardNumber" class="form-control" value="8600 1234 5678 9029" readonly>
                            <button type="button" class="btn btn-outline-secondary" onclick="copyCard()">Nusxa olish</button>
                        </div>
                    </div>

                    <form method="post" action="/payment/submit" enctype="multipart/form-data" id="paymentForm">

                        <!-- Summa -->
                        <div class="mb-3">
                            <label class="form-label">To‘lov summasi (UZS):</label>
                            <input type="number" class="form-control" name="amount" id="amount" min="1000" required>
                        </div>

                        <!-- Chek yuklash -->
                        <div class="mb-3">
                            <label class="form-label">Chek (JPG / PNG / PDF):</label>
                            <input type="file" class="form-control" name="checkFile" id="checkFile"
                                   accept="image/*,application/pdf">

                        </div>

                        <!-- Izoh (ixtiyoriy) -->
                        <div class="mb-3">
                            <label class="form-label">Izoh (ixtiyoriy):</label>
                            <textarea class="form-control" name="comment" rows="2"></textarea>
                        </div>

                        <!-- Tugmalar -->
                        <div class="d-flex justify-content-between">
                            <a href="/" class="btn btn-outline-secondary">Bekor qilish</a>
                            <button type="submit" class="btn btn-primary">Yuborish</button>
                        </div>

                    </form>

                </div>
            </div>

        </div>
    </div>
</div>

<script>

    function copyCard() {
        navigator.clipboard.writeText(document.getElementById("cardNumber").value);
        alert("Karta raqam nusxalandi!");
    }


    document.getElementById("paymentForm").addEventListener("submit", e => {
        const amount = document.getElementById("amount").value;
        if (amount < 1000) {
            alert("Minimal summa: 1000 UZS");
            e.preventDefault();
        }
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
